/*! PDFix license http://pdfix.net/terms. Copyright (c) 2016 Pdfix. All Rights Reserved. */
function acroform_init(){for(var t=document.getElementsByTagName("input"),n=0;n<t.length;n++)register_widget(t[n]);for(t=document.getElementsByTagName("select"),n=0;n<t.length;n++)register_widget(t[n]);for(t=document.getElementsByTagName("textarea"),n=0;n<t.length;n++)register_widget(t[n]);for(t=document.getElementsByTagName("button"),n=0;n<t.length;n++)register_widget(t[n]);do_calculations()}function register_widget(n){var t=n.getAttribute("name"),i=n.getAttribute("data-field-id"),r=n.getAttribute("data-annot-id");t!=undefined&&i!=undefined&&r!=undefined&&(n.addEventListener("focus",field_event),n.addEventListener("blur",field_event),n.addEventListener("change",field_event),n.addEventListener("click",field_event),n.addEventListener("keypress",field_event),field_add_annot(t,i,n))}function Field(n){var t={},i,f,s,e,h,r,u,o;if(t.subFields=null,i=null,f=document.getElementsByName(n),f.length>=1)i=f[0];else if(f.length!=1)for(s=!1,t.subFields=[],e=0;e<all_fields.length;e++)(h=all_fields[e],r=h.name,r==n&&(s=!0),r.indexOf(n)==0)&&(u=r.substr(n.length,r.length),u.indexOf(".")==0)&&(u=u.substr(1,u.length),o=new init_field(r),o!=null&&t.subFields.push(o));return Object.defineProperty(t,"value",{get:function(){if(typeof this._value_tmp=="string"&&this._value_tmp==""||this._value.toString().search(/[^0123456789.]/)!=-1)return this._value;var n=parseFloat(this._value);return isNaN(n)?this._value:n},set:function(n){var t,u,f,s,h,i,e,o,r;if((this._value=n,t=null,u=document.getElementsByName(this.name),u.length>=1&&(t=u[0]),t!=null)&&(f=t.getAttribute("type"),f!="radio"&&f!="checkbox"))for(s=this.getFormattedValue(),h=t.getAttribute("data-field-id"),this._value_tmp=1,i=0;i<all_fields.length;i++)if(e=all_fields[i],e.id===h){for(o=document.getElementsByName(e.name),r=0;r<o.length;r++)o[r].value=s;break}}}),Object.defineProperty(t,"valueAsString",{get:function(){return this._value.toString()}}),Object.defineProperty(t,"hidden",{get:function(){return this._hidden},set:function(n){var t,u,o,i,f,e,r;if(typeof n=="boolean"&&(this._hidden=n,t=null,u=document.getElementsByName(this.name),u.length>=1&&(t=u[0]),t!=null))for(o=t.getAttribute("data-field-id"),i=0;i<all_fields.length;i++)if(f=all_fields[i],f.id===o){for(e=document.getElementsByName(f.name),r=0;r<e.length;r++)e[r].style.display=Boolean(n)==!0?"none":"initial";break}}}),t.name=n,i!=null&&(t.maxLength=i.getAttribute("maxLength"),t.commitOnSelChange=i.getAttribute("commitOnSelChange")=="true",t._value=i.value,t.elem=i,t.k="K"+i.getAttribute("data-field-id")+"()",t.c="C"+i.getAttribute("data-field-id")+"()",t.f="F"+i.getAttribute("data-field-id")+"()",t.v="V"+i.getAttribute("data-field-id")+"()",t.u="U"+i.getAttribute("data-field-id")+"()",t.fo="Fo"+i.getAttribute("data-field-id")+"()",t.bl="Bl"+i.getAttribute("data-field-id")+"()"),t.borderStyle=border.s,t.clearItems=function(){for(var n=this.elem.options.length-1;n>=0;n--)this.elem.remove(n)},t.getArray=function(){if(this.subFields!=null)return this.subFields;var n=[];return n.push(this),n},t.setItems=function(n){var t,r;if(i!=null)for(this.clearItems(),t=0;t<n.length;t++)r=document.createElement("option"),n[t].constructor.name=="Array"?(r.text=n[t][0],r.setAttribute("value",n[t][1])):r.text=n[t],this.elem.add(r,t)},t.getFormattedValue=function(){create_event();event.type="Field";event.name="Format";event.target=this;event.source=this;event.maxLength=t.maxLength;event.willCommit=!1;event.value=this.value.toString();event.rc=!0;do_field_event();var n=event.rc?event.value:this.value;return destroy_event(),n.toString()},t.checkThisBox=function(n,t){i.matches('[type="checkbox"]')&&(i.checked=t)},t}function init_field(n){for(var i,t=0;t<Fields.length;t++)if(Fields[t].name==n)return Fields[t];return(i=new Field(n),i==null)?null:(Fields.push(i),i)}function field_add_annot(n,t,i){for(var u,f,r=0;r<all_fields.length;r++)if(u=all_fields[r],u.id==t){i&&(f=i.getAttribute("data-annot-id"),i.value=this.getField(n).getFormattedValue(),u.annots.push(f));return}all_fields.push({name:n,id:t,annots:[f]});typeof window["C"+t]=="function"&&calc_fields.push(n)}function create_event(){return event={},event.rc=!0,events.push(event),event}function destroy_event(){event=null;events.pop();events.length>0&&(event=events[events.length-1])}function do_field_event(){if(current_events.find(function(n){if(n==event.target)return n})==undefined){current_events.push(event.target);try{event.name=="Keystroke"?eval(event.target.k):event.name=="Format"?eval(event.target.f):event.name=="Mouse Up"?eval(event.target.u):event.name=="Blur"?eval(event.target.bl):event.name=="Focus"?eval(event.target.fo):event.name=="Validate"&&eval(event.target.v)}catch(n){}current_events.pop()}}function field_event(n){var i=init_field(n.target.name),t,r,u,f;return create_event(),event.type="Field",event.name="Keystroke",event.target=i,event.source=i,event.maxLength=i.maxLength,event.willCommit=!1,event.value=n.target.value.toString(),t=!0,n.type=="keypress"&&(t=!1,event.change="",r=0,n.keyCode!=undefined&&n.keyCode>=20?r=n.keyCode:n.charCode!=undefined&&n.charCode>=20&&(r=n.charCode),r!=0&&(event.change=String.fromCharCode(r)),event.selStart=n.target.selectionStart,event.selEnd=n.target.selectionEnd),n.type=="change"&&(t=!1,event.name="Validate",i.elem.tagName.toLowerCase()=="select"?(u=n.target.selectedIndex,console.log(n.target.options[u].value),event.changeEx=n.target.options[u].value):((n.target.type=="radio"||n.target.type=="checkbox")&&(t=!0),event.value=n.target.value),event.willCommit=!0),n.type=="click"&&(t=!1,event.name="Mouse Up",n.target.type!="radio"&&n.target.type!="checkbox"&&n.target.type!="button"&&(t=!0),event.value=n.target.value,n.target.type=="checkbox"&&n.target.checked==!1&&(event.value="Off"),event.willCommit=!0),n.type=="focus"&&(t=!1,event.name="Focus",n.target.type!="radio"&&(n.target.value=i.value),n.target.addEventListener("keystroke",field_event),n.target.addEventListener("blur",field_event)),n.type=="blur"&&(t=!1,event.name="Blur",n.target.removeEventListener("keystroke",field_event),n.target.removeEventListener("blur",field_event),n.target.value=i.getFormattedValue()),t||(event.rc=!0,do_field_event(),event.rc==!1?event.willCommit?n.target.value=event.target.value:n.preventDefault():event.willCommit&&(event.target.value=event.value,do_calculations(i))),f=event.rc,destroy_event(),f}function do_calculate(n,t){if(document.calculate!=!1){var i=init_field(n);create_event();event.type="Field";event.name="Calculate";event.targetName=i.name;event.target=i;event.value=i.value;event.source=t;event.willCommit=!0;try{eval(i.c)}catch(r){console.log("do_calculate: "+r.message)}event.rc==!0&&(event.target.value=event.value);destroy_event()}}function do_calculations(n){for(var t=0;t<calc_fields.length;t++)do_calculate(calc_fields[t],n)}var border,color,Fields,app,util,all_fields,calc_fields;document.addEventListener("DOMContentLoaded",acroform_init);border={};border.s="solid";border.b="beveled";border.d="dashed";border.i="inset";border.u="underline";color={};color.transparent=["T"];color.black=["G",0];color.white=["G",1];color.red=["RGB",1,0,0];color.green=["RGB",0,1,0];color.blue=["RGB",0,0,1];color.cyan=["CMYK",1,0,0,0];color.magenta=["CMYK",0,1,0,0];color.yellow=["CMYK",0,0,1,0];color.dkGray=["G",.25];color.gray=["G",.5];color.ltGray=["G",.75];color.convert=function(){};color.equal=function(){};Fields=[];app={};app.viewerVersion=1;app.viewerType="PdfixHTML5";app.response=function(){return null};app.beep=function(){};app.alert=function(n){window.alert(n)};this.external=!1;this.calculate=!1;this.calculateNow=function(){var n=this.calculate;this.calculate=!0;do_calculations();this.calculate=n};this.getField=function(n){return init_field(n)};this.resetForm=function(){for(var i,t,n=0;n<all_fields.length;n++)i=all_fields[n],t=document.getElementById(i.name),t.value=t.getAttribute("data-default-value");calculateNow()};this.submitForm=function(n,t,i){for(var e,r,f={},u=0;u<all_fields.length;u++)(e=all_fields[u],r=document.getElementById(e.name),i==null||i!=!1||r.value!="")&&(f[r.name]=r.value);typeof SubmitForm!="undefined"?SubmitForm(f):console.log("Method SubmitForm is not defined. Once it's deined submitting form data can be customized.")};console.println=function(n){console.log(n)};util={};util.printf=function(){for(var e=0,i=arguments[e++],t,f,v,y,o;e<arguments.length;){if(t=arguments[e++],f=i.search(/%(,[0-3])?[+#0 ]?([.]\d)?[dfsx]/),f==-1)break;var c=1,l="",w=0,a=0,u="",r=f+1,n=i.charAt(r++);for(n==","&&(c=parseInt(i.charAt(r++)),n=i.charAt(r++));n=="+"||n=="#"||n=="0"||n==" ";)if(l+=n,n=i.charAt(r++),l.length==4)break;if(isNaN(n)||(w=parseInt(n),n=i.charAt(r++)),n=="."&&(a=parseInt(i.charAt(r++)),n=i.charAt(r++)),u=n,v=i.substr(0,f),y=i.substr(n,i.length-n),u=="s")t=t.toString();else if(u=="x")t=t.toString(16);else if(u=="d"||u=="f"){t=parseFloat(t);isNaN(t)&&(t=0);o=Math.pow(10,a);t=parseFloat(Math.round(t*o))/o;var s=t.toString().split("."),h="",p=".";switch(c){case 0:h=",";break;case 2:h=".";p=","}s[0]=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,h);t=s.join(p)}i=v+t+y}return i};util.printd=function(){var o=0,n=arguments[o++],i=arguments[o++];typeof n!="string"&&(n="HH:MM:ss");var s=i.getFullYear(),h=parseInt(s.toString().substr(2,2)),r=i.getMonth()+1,c=fullMonths[r-1],l=months[r-1],u=i.getDate(),t=i.getHours(),f=i.getMinutes(),e=i.getSeconds(),a=t>=12?"pm":"am";return n.search("tt")!=-1&&(n=n.replace("tt",a),t>12&&(t-=12)),n=n.replace("yyyy",s),n=n.replace("yy",h),n=n.replace("mmmm",c),n=n.replace("mmm",l),n=n.replace("mm",r<10?"0"+r:r),n=n.replace("m",r),n=n.replace("dd",u<10?"0"+u:u),n=n.replace("d",u),n=n.replace("HH",t<10?"0"+t:t),n=n.replace("H",t),n=n.replace("MM",f<10?"0"+f:f),n=n.replace("M",f),n=n.replace("ss",e<10?"0"+e:e),n.replace("s",e)};util.printx=function(n,t){var r="",i=0,o="",u,f,e;for(t==null||isNaN(t)||(o+=t),t=o,u=t.length,f=0;f<n.length&&i<u;f++){e=n[f];switch(e){case"?":r+=t[i];i++;break;case"X":while(i<u){if(t[i]>="0"&&t[i]<="9"||t[i]>="a"&&t[i]<="z"||t[i]>="A"&&t[i]<="Z"){r+=t[i];i++;break}i++}break;case"A":while(i<u){if(t[i]>="a"&&t[i]<="z"||t[i]>="A"&&t[i]<="Z"){r+=t[i];i++;break}i++}break;case"9":while(i<u){if(t[i]>="0"&&t[i]<="9"){r+=t[i];i++;break}i++}break;case"*":r.append(t,i,u-i);i=u-1;break;case"\\":break;case">":t=t.toUpperCase();break;case"<":t=t.toLowerCase();break;case"=":break;default:r+=e}}return r};all_fields=[];calc_fields=[];var events=[],event=null,current_events=[]
